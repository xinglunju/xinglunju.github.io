<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by TEMPLATED
http://templated.co
Released for free under the Creative Commons Attribution License

Name       : Green Exposure  
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20130308

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Software and Code</title>
<!--link href="http://fonts.googleapis.com/css?family=Arvo|Open+Sans:400,300,600,700" rel="stylesheet" type="text/css" /-->
<link href="style.css" rel="stylesheet" type="text/css" media="screen" />
<script src="scripts/tracking.js"></script>
</head>
<body>

<div id="wrapper">

<div id="menu-wrapper">
	<div id="menu">
		<ul>
			<li><a href="index.html">Home</a></li>
			<li><a href="research.html">Research & Publications</a></li>
			<li class="current_page_item"><a href="#">Software & Code</a></li>
			<li><a href="teaching.html">Teaching & Outreach</a></li>
			<li><a href="links.html">Links</a></li>
		</ul>
	</div>
	<!-- end #menu --> 
</div>

<!--div id="banner"><a href="#"><img src="images/sma_dawn.jpg" width="1200" height="600" alt="" /></a></div-->

<div id="page">
	<div class="post">
		<h1>Software</h1>
			<p>Some MIR tricks I learned from my collegues: <a href="mir.html">MIR tricks</a>.</p>
			<p>Some Miriad tricks: <a href="miriad.html">Miriad tricks</a>.</p>
		<hr>
		</br>
		<h1>Code</h1>
			<p>Here are some IDL and Python codes I wrote: <a href="#TDViz">TDViz</a>, <a href="#PyAMOR">PyAMOR</a>, <a href="#EMANON">Emanon</a>.</p>
			</br>
			<h2><a name="TDViz">TDViz: Three-dimensional Datacube Visualizer</a></h2>
				<p><a href="https://github.com/xinglunju/tdviz" target="_blank" class="class2">GitHub link</a></p>
				<p>This code is originally a module prepared for <a href="http://ay201b.wordpress.com/topical-modules/2013-topical-modules/" target="_blank" class="class2">the AY201b course</a> tutored by Prof. Alyssa Goodman at Harvard Astronomy Department (see <a href="ay201b/index.html" target="_blank">the module website</a>). It can be run with 'python TDViz.py', as long as you have <a href="#dep">all the required python packages</a> installed. A snapshot of the interface is shown below.</p>
				<img src="images/sc1.jpg" style="float:center;"/>
				<p>You can select your own FITS files. After you select one, the starting and ending pixels in three axes, and the maximum and minimum values will be updated respectively. The default scene will be the entire datacube. If you want to focus on a smaller region and/or a narrower velocity range, you can change corresponding values and click the 'Plot' button again.</p>
				<img src="images/sc2.jpg" style="float:center;"/>
				<p>It is certain that many known and unknown bugs exist. If you find one, please do not hesitate to <a title="mailto:xinglv.nju@gmail.com?subject=bugs!!!!" href="mailto:xinglv.nju@gmail.com?subject=bugs!!!!">contact me</a>, thanks!</p>
				<h4><a name="dep">Dependencies</a></h4>
					<p>This code makes use of python modules including MayaVI, TraitsUI, astropy, numpy, and scipy. Normally you can install <a href="http://python4astronomers.github.io/installation/recommended_options.html" target="_blank" class="class2">one of the popular scientific Python packages</a> and have them all. I use <a href="https://www.enthought.com/products/canopy/academic/" target="_blank" class="class2">the Canopy package</a> for running and testing. Another choice is <a href="https://store.continuum.io/cshop/anaconda/" target="_blank" class="class2">the Anaconda package</a>. Both packages are free (or have a free version for academic users).</p>
					<p>If you use Anaconda, the module names are different, e.g. in the script you need 'from traitsui.api import View' instead of 'from enthought.traits.ui.api import View'. Ananconda does not include MayaVI by default, you might need to install it first by 'conda install mayavi'. (Thanks to Nimesh Patel for pointing this out!)</p>
			</br>
			<h2><a name="PyAMOR">PyAMOR: Python script for AMmOnia data Reduction</a></h2>
				<p><a href="https://github.com/xinglunju/pyAmor" target="_blank" class="class2">GitHub link</a></p>
				<p>This code is dedicated to modeling spectra of low level ammonia transitions (between (J,K)=(1,1) and (5,5)) and deriving parameters such as intrinsic linewidth, optical depth, and rotation temperature. The curve fitting is implemented by <a href="http://lmfit.github.io/lmfit-py" target="_blank" class="class2">the lmfit package</a>. It will have the capability of modeling spectra with more than one and up to three velocity components along the line of sight and providing one set of best fitted parameters for each component. For now it can only fit one velocity component across the entire map, and if there are more than one, it will take the highest peak at each pixel to do the fitting. And for now it can only fit two-velocity-components spectra manually, which means you need to visually identify the two velocities and when the S/N is small the fitting may not converge.</p>
				<p><s>I also have an IDL version upon request.</s></p>
				<img src="images/no_idling.jpg" style="float:center;width:300px;"/>
				<p>What it can do now: For low S/N or low spectral resolution data, use cross-correlation between a model and a regridded spectrum (e.g. 10 times smaller channel width) to find the velocity, then fix it and run the minimization process. For high S/N data, it is ok to let the velocity be a free parameter.</p>
				<p>What it will be able to do: 1. Include all five hyperfine components of NH<sub>3</sub> (1,1), or even better, all 18 hyperfine lines so that we know the intrinsic linewidth immediately; 2. Include higher transitions like NH<sub>3</sub> (4,4), (5,5). 3. Be able to fit multi-velocities. 4. Have an interactive graphic interface.</p>
			</br>
			<h2><a name="EMANON">EMANON: Estimate of Methyl cyanide parameters with NON-linear optimization</a></h2>
				<p><a href="https://github.com/xinglunju/emanon" target="_blank" class="class2">GitHub link</a></p>
				<p>It is translated from Roberto Galvan-Madrid's Mathematica code. 'Emanon' is actually 'No name' spelled backwards. I don't know the origin of this word but I learned it in Shinji Kajio's novel <i>Memories of Emanon</i>... </a>
				<p>A script to fit CH<sub>3</sub>CN hyperfine lines and derive linewidth, temperature, and column density.</p>
			</br>
			<h2>A Dancing Dophin</h2>
				<p>You can find it <a href="http://python4astronomers.github.io/contest/bounce.html" target="_blank" class="class2">here</a>. Just for fun...</p>
				<img src="images/dolphin.gif" style="float:center;-moz-transform:scaleY(-1);-webkit-transform:scaleY(-1);-o-transform:scaleY(-1);transform:scaleY(-1);"/>
	</div>
</div>
<!-- end #page --> 

<div id="footer">
	<p>&copy; 2015 Xing Lu. Design by <a href="http://templated.co" rel="nofollow">TEMPLATED</a>.</p>
</div>
<!-- end #footer -->

<a href="#" class="back-to-top" style="display:none;float:right;">Back to Top</a>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="scripts/backtotop.js"> </script>

</div>
<!-- end #wrapper -->
</body>
</html>
